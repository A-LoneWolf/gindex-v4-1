(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23049ef8"],{"264a":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{class:s.ismobile?"content mx-1 mt-2 px-0":"content ml-5 mt-2 mr-5 pl-5 pr-5 "},[t("div",{staticClass:"loading"},[t("loading",{attrs:{active:s.loading,"can-cancel":!1,"is-full-page":s.fullpage},on:{"update:active":function(e){s.loading=e}}})],1),t("div",{staticClass:"columns is-multiline is-desktop has-text-centered is-centered is-vcentered"},[s._m(0),t("div",{staticClass:"column is-half"},[t("article",{class:s.errorMessage?"message is-danger":"message is-hidden is-danger"},[t("div",{staticClass:"message-header"},[t("p",[s._v("Error Proccessing")]),t("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:function(e){s.errorMessage=!1}}})]),t("div",{staticClass:"message-body"},[s._v(" "+s._s(s.resultmessage)+" ")])]),t("form",{on:{submit:function(e){return e.preventDefault(),s.handleSubmit(e)}}},[t("div",{staticClass:"field"},[t("p",{staticClass:"control has-icons-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.oldpassword,expression:"oldpassword"}],staticClass:"input is-rounded",attrs:{id:"oldpassword",type:"password",placeholder:"Your Old Password",required:""},domProps:{value:s.oldpassword},on:{input:function(e){e.target.composing||(s.oldpassword=e.target.value)}}}),s._m(1)])]),t("div",{staticClass:"field"},[t("p",{staticClass:"control has-icons-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.newpassword,expression:"newpassword"}],staticClass:"input is-rounded",attrs:{id:"newpassword",type:"password",placeholder:"New Password",required:""},domProps:{value:s.newpassword},on:{input:function(e){e.target.composing||(s.newpassword=e.target.value)}}}),s._m(2)])]),t("div",{staticClass:"field"},[t("p",{staticClass:"control has-icons-left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmpassword,expression:"confirmpassword"}],staticClass:"input is-rounded",attrs:{id:"confirm-password",type:"password",placeholder:"Confirm Password",required:""},domProps:{value:s.confirmpassword},on:{input:function(e){e.target.composing||(s.confirmpassword=e.target.value)}}}),s._m(3)])]),t("button",{class:s.loading?"button is-rounded is-loading is-danger is-medium":"button is-rounded is-medium is-danger",attrs:{disabled:s.disabled}},[s._m(4),t("span",[s._v("Change")])])])])])])},i=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"column is-full"},[t("h2",{staticClass:"title has-text-weight-bold has-text-white"},[s._v("Change Your Password")]),t("p",{staticClass:"subtitle has-text-danger-dark"},[s._v(" Enter Your Old Password and Change ")])])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])},function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("span",{staticClass:"icon is-medium"},[t("i",{staticClass:"fas fa-shipping-fast"})])}],n=(t("99af"),t("4de4"),t("e826")),o=t("19e9"),r=t("9062"),d=t.n(r),l=(t("e40d"),{components:{Loading:d.a},metaInfo:function(){var s=this;return{title:this.metatitle,titleTemplate:function(e){return e&&s.siteName?e?"".concat(e," | ").concat(s.siteName):"".concat(s.siteName):"Loading..."}}},data:function(){return{user:{},oldpassword:"",newpassword:"",confirmpassword:"",gds:[],metatitle:"Change Password",currgd:{},errorMessage:!1,disabled:!0,resultmessage:"",loading:!1,fullpage:!0}},methods:{handleSubmit:function(s){var e=this;this.metatitle="Checking & Changing",this.loading=!0,s.preventDefault(),this.confirmpassword===this.newpassword&&this.newpassword.length>0?this.$http.post(window.apiRoutes.changePasswordRoute,{email:this.user.email,oldpassword:this.oldpassword,newpassword:this.newpassword}).then((function(s){s.data.auth&&s.data.registered&&s.data.changed?(Object(o["e"])("tokendata"),Object(o["e"])("userdata"),e.loading=!1,e.metatitle="Success...",e.$bus.$emit("logout","User Logged Out"),e.$ga.event({eventCategory:"Password Change",eventAction:"Success - "+e.siteName,eventLabel:"Change Password"}),e.$router.push({name:"results",params:{id:e.currgd.id,cmd:"result",success:!0,redirectUrl:"/",tocmd:"login",data:"response.data.message. You have to Relogin with new Password"}})):(e.errorMessage=!0,e.loading=!1,e.metatitle="Failed...",e.$ga.event({eventCategory:"Password Change",eventAction:"Fail - "+e.siteName,eventLabel:"Change Password"}),e.resultmessage=s.data.message)})):(this.loading=!1,this.metatitle="Failed...",this.resultmessage="Passwords Do Not Match",this.newpassword="",this.confirmpassword="")},validateData:function(){this.confirmpassword===this.newpassword&&this.newpassword.length>0&&this.oldpassword.length>0?this.disabled=!1:this.disabled=!0}},computed:{ismobile:function(){var s=window.innerWidth>0?window.innerWidth:screen.width;return!(s>966)},siteName:function(){var s=this;return window.gds.filter((function(e,t){return t==s.$route.params.id}))[0]}},beforeMount:function(){this.loading=!0;var s=Object(n["b"])();s.isThere?"hybrid"==s.type?(this.$ga.event({eventCategory:"User Initialized",eventAction:"Hybrid - "+this.siteName,eventLabel:"Change Password",nonInteraction:!0}),this.user=s.data.user,this.loading=s.data.loading):"normal"==s.type&&(this.$ga.event({eventCategory:"User Initialized",eventAction:"Normal - "+this.siteName,eventLabel:"Change Password",nonInteraction:!0}),this.user=s.data.user,this.loading=s.data.loading):this.loading=s.data.loading},created:function(){var s=Object(n["a"])(this.$route.params.id);this.gds=s.gds,this.currgd=s.current,this.$ga.page({page:this.$route.path,title:"Change Password - "+this.siteName,location:window.location.href})},watch:{oldpassword:"validateData",newpassword:"validateData",confirmpassword:"validateData"}}),c=l,u=t("2877"),m=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=m.exports},e40d:function(s,e,t){}}]);