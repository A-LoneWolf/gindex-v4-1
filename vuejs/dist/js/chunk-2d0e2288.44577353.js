(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2288"],{"7e04":function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"content mt-3"},[a("h1",{staticClass:"title has-text-centered has-text-weight-bold has-text-white"},[e._v("Manage Spam Users")]),a("div",{staticClass:"loading"},[a("loading",{attrs:{active:e.loading,"can-cancel":!1,"is-full-page":e.fullpage},on:{"update:active":function(s){e.loading=s}}})],1),a("div",{staticClass:"columns has-text-centered is-multiline is-centered is-vcentered"},[a("div",{staticClass:"column is-two-thirds"},[a("div",{staticClass:"control mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"is-checkradio is-small is-success",attrs:{id:"addradio",type:"radio",name:"type",value:"add"},domProps:{checked:e._q(e.type,"add")},on:{change:function(s){e.type="add"}}}),a("label",{staticClass:"subtitle has-text-weight-bold has-text-white",attrs:{for:"addradio"}},[e._v("Add")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"is-checkradio is-small is-success",attrs:{id:"removeradio",type:"radio",name:"type",value:"remove"},domProps:{checked:e._q(e.type,"remove")},on:{change:function(s){e.type="remove"}}}),a("label",{staticClass:"subtitle has-text-weight-bold has-text-white",attrs:{for:"removeradio"}},[e._v("Remove")])]),a("article",{class:e.errormessageVisibility?"message is-danger":"message is-hidden is-danger"},[a("div",{staticClass:"message-header"},[a("p",[e._v("Error Logging in!!")]),a("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:function(s){e.errormessageVisibility=!1}}})]),a("div",{staticClass:"message-body"},[e._v(" "+e._s(e.resultmessage)+" ")])]),a("article",{class:e.successmessageVisibility?"message is-success":"message is-hidden is-success"},[a("div",{staticClass:"message-header"},[a("p",[e._v("Success !")]),a("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:function(s){e.successmessageVisibility=!1}}})]),a("div",{staticClass:"message-body"},[e._v(" "+e._s(e.resultmessage)+" ")])])]),"add"==e.type?a("div",{staticClass:"column is-half"},[a("p",{staticClass:"subtitle is-small has-text-white"},[e._v("Add Users to Spam List")]),a("form",{on:{submit:function(s){return s.preventDefault(),e.handleAddSpam(s)}}},[a("label",{staticClass:"subtitle has-text-white"},[e._v("Select User's Role First")]),a("div",{staticClass:"control mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addrole,expression:"addrole"}],staticClass:"is-checkradio is-small is-warning",attrs:{id:"useraddradio",type:"radio",name:"addrole",checked:"",value:"user",disabled:e.roledisabled},domProps:{checked:e._q(e.addrole,"user")},on:{change:function(s){e.addrole="user"}}}),a("label",{staticClass:"has-text-white",attrs:{for:"useraddradio"}},[e._v("User")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addrole,expression:"addrole"}],staticClass:"is-checkradio is-small is-warning",attrs:{id:"adminaddradio",type:"radio",name:"addrole",value:"admin",disabled:e.roledisabled},domProps:{checked:e._q(e.addrole,"admin")},on:{change:function(s){e.addrole="admin"}}}),a("label",{staticClass:"has-text-white",attrs:{for:"adminaddradio"}},[e._v(" Admin")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.addrole,expression:"addrole"}],staticClass:"is-checkradio is-small is-warning",attrs:{id:"superadminaddradio",type:"radio",name:"addrole",value:"superadmin",disabled:e.roledisabled},domProps:{checked:e._q(e.addrole,"superadmin")},on:{change:function(s){e.addrole="superadmin"}}}),a("label",{staticClass:"has-text-white",attrs:{for:"superadminaddradio"}},[e._v("Superadmin")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label has-text-white"},[e._v("Select the User")]),a("div",{staticClass:"control"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addUserEmail,expression:"addUserEmail"}],attrs:{id:"addemail"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.addUserEmail=s.target.multiple?a:a[0]}}},e._l(e.users,(function(s,t){return a("option",{key:t,attrs:{placeholder:"Select the User"}},[e._v(e._s(s.email))])})),0)])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addmessage,expression:"addmessage"}],staticClass:"textarea is-success is-rounded",attrs:{placeholder:"Reason for Adding Him",id:"message",rows:"3",required:""},domProps:{value:e.addmessage},on:{input:function(s){s.target.composing||(e.addmessage=s.target.value)}}})])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addpassword,expression:"addpassword"}],staticClass:"input is-rounded",attrs:{id:"addpassword",type:"password",placeholder:"Password",required:""},domProps:{value:e.addpassword},on:{input:function(s){s.target.composing||(e.addpassword=s.target.value)}}}),e._m(0)])]),a("button",{class:e.loading?"button is-rounded is-loading is-danger is-medium":"button is-rounded is-medium is-danger"},[e._m(1),a("span",[e._v("Add to Spam")])])])]):e._e(),"remove"==e.type?a("div",{staticClass:"column is-half"},[a("p",{staticClass:"subtitle is-small has-text-white"},[e._v("Remove Users from Spam")]),a("form",{on:{submit:function(s){return s.preventDefault(),e.handleRemoveSpam(s)}}},[a("label",{staticClass:"subtitle has-text-white"},[e._v("Select User's Role First")]),a("div",{staticClass:"control mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.removerole,expression:"removerole"}],staticClass:"is-checkradio is-small is-warning",attrs:{id:"userremradio",type:"radio",name:"addrole",checked:"",value:"user",disabled:e.roledisabled},domProps:{checked:e._q(e.removerole,"user")},on:{change:function(s){e.removerole="user"}}}),a("label",{staticClass:"has-text-white",attrs:{for:"userremradio"}},[e._v("User")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.removerole,expression:"removerole"}],staticClass:"is-checkradio is-small is-warning",attrs:{id:"adminremradio",type:"radio",name:"addrole",value:"admin",disabled:e.roledisabled},domProps:{checked:e._q(e.removerole,"admin")},on:{change:function(s){e.removerole="admin"}}}),a("label",{staticClass:"has-text-white",attrs:{for:"adminremradio"}},[e._v(" Admin")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.removerole,expression:"removerole"}],staticClass:"is-checkradio is-small is-warning",attrs:{id:"superadminremradio",type:"radio",name:"addrole",value:"superadmin",disabled:e.roledisabled},domProps:{checked:e._q(e.removerole,"superadmin")},on:{change:function(s){e.removerole="superadmin"}}}),a("label",{staticClass:"has-text-white",attrs:{for:"superadminremradio"}},[e._v("Superadmin")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label has-text-white"},[e._v("Select the User")]),a("div",{staticClass:"control"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.removeUserEmail,expression:"removeUserEmail"}],attrs:{id:"removeemail"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.removeUserEmail=s.target.multiple?a:a[0]}}},e._l(e.spamUsers,(function(s,t){return a("option",{key:t,attrs:{placeholder:"Select the User"}},[e._v(e._s(s.email))])})),0)])])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.removepassword,expression:"removepassword"}],staticClass:"input is-rounded",attrs:{id:"removepassword",type:"password",placeholder:"Password",required:""},domProps:{value:e.removepassword},on:{input:function(s){s.target.composing||(e.removepassword=s.target.value)}}}),e._m(2)])]),a("button",{class:e.loading?"button is-rounded is-loading is-danger is-medium":"button is-rounded is-medium is-danger"},[e._m(3),a("span",[e._v("Allow Him")])])])]):e._e()])])},i=[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("span",{staticClass:"icon is-medium"},[a("i",{staticClass:"fas fa-user-minus"})])},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])},function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("span",{staticClass:"icon is-medium"},[a("i",{staticClass:"fas fa-user-plus"})])}],d=(a("99af"),a("4de4"),a("e826")),r=a("9062"),o=a.n(r),l={components:{Loading:o.a},metaInfo:function(){var e=this;return{title:this.metatitle,titleTemplate:function(s){return s&&e.siteName?s?"".concat(s," | ").concat(e.siteName):"".concat(e.siteName):"Loading..."}}},data:function(){return{metatitle:"Manage Spam",user:{},admin:!1,superadmin:!1,roledisabled:!0,loading:!1,addrole:"",addpassword:"",addmessage:"",removerole:"",removeUserEmail:"",removepassword:"",users:[],spamUsers:[],getUserApi:"",postAddSpam:"",getSpamApi:"",postSpamApi:"",addUserEmail:"",fullpage:!0,errormessageVisibility:!1,successmessageVisibility:!1,resultmessage:"",type:"",gds:[],currgd:{}}},methods:{getUsers:function(){var e=this;this.metatitle="Getting Users...",this.loading=!0,this.getUserApi.length>0?this.$http.post(this.getUserApi,{email:this.user.email}).then((function(s){s.data.auth&&s.data.registered?(e.loading=!1,e.metatitle="Got Users...",e.users=s.data.users):(e.metatitle="Request Failed...",e.users=[],e.loading=!1)})):(this.loading=!1,this.metatitle="Request Failed...",console.log("Not Possible"))},getSpamUsers:function(){var e=this;this.metatitle="Getting Spammers...",this.loading=!0,this.getUserApi.length>0?this.$http.post(this.getSpamApi,{adminuseremail:this.user.email}).then((function(s){s.data.auth&&s.data.registered?(e.loading=!1,e.metatitle="Done...",e.spamUsers=s.data.users):(e.spamUsers=[],e.metatitle="Failed...",e.loading=!1)})):(this.loading=!1,this.metatitle="Failed...",console.log("Not Possible"))},handleAddSpam:function(){var e=this;this.metatitle="Adding Spammers...",this.loading=!0,this.addUserEmail.length>0&&this.addpassword.length>0&&this.$http.post(this.postAddSpam,{email:this.addUserEmail,message:this.addmessage,adminuseremail:this.user.email,adminpass:this.addpassword}).then((function(s){s.data.auth&&s.data.registered?(e.successmessageVisibility=!0,e.errormessageVisibility=!1,e.metatitle="Success...",e.$ga.event({eventCategory:"Add Spam",eventAction:"Success - "+e.siteName,eventLabel:"Manage Spam"}),e.resultmessage=s.data.message,e.loading=!1):(e.successmessageVisibility=!1,e.errormessageVisibility=!0,e.metatitle="Failed...",e.$ga.event({eventCategory:"Add Spam",eventAction:"Failed - "+e.siteName,eventLabel:"Manage Spam"}),e.resultmessage=s.data.message,e.loading=!1)}))},handleRemoveSpam:function(){var e=this;this.metatitle="Removing Spammers...",this.loading=!0,this.removeUserEmail.length>0&&this.removepassword.length>0?this.$http.post(this.postSpamApi,{email:this.removeUserEmail,adminuseremail:this.user.email,password:this.removepassword}).then((function(s){s.data.auth&&s.data.deleted?(e.successmessageVisibility=!0,e.errormessageVisibility=!1,e.metatitle="Done...",e.$ga.event({eventCategory:"Remove Spam",eventAction:"Success - "+e.siteName,eventLabel:"Manage Spam"}),e.resultmessage=s.data.message,e.loading=!1):(e.metatitle="Failed...",e.successmessageVisibility=!1,e.errormessageVisibility=!0,e.$ga.event({eventCategory:"Remove Spam",eventAction:"Failed - "+e.siteName,eventLabel:"Manage Spam"}),e.resultmessage=s.data.message,e.loading=!1)})):(this.metatitle="Failed...",console.log("Not Possible"))}},beforeMount:function(){this.loading=!0;var e=Object(d["b"])();e.isThere?"hybrid"==e.type?(this.$ga.event({eventCategory:"User Initialized",eventAction:"Hybrid - "+this.siteName,eventLabel:"Manage Spam",nonInteraction:!0}),this.user=e.data.user,this.logged=e.data.logged,this.loading=e.data.loading):"normal"==e.type&&(this.$ga.event({eventCategory:"User Initialized",eventAction:"Normal - "+this.siteName,eventLabel:"Manage Spam",nonInteraction:!0}),this.user=e.data.user,this.token=e.data.token,this.logged=e.data.logged,this.loading=e.data.loading,this.admin=e.data.admin,this.superadmin=e.data.superadmin):(this.logged=e.data.logged,this.loading=e.data.loading)},computed:{siteName:function(){var e=this;return window.gds.filter((function(s,a){return a==e.$route.params.id}))[0]}},mounted:function(){this.loading=!0,this.admin&&this.superadmin?(this.addrole="user",this.removerole="user",this.roledisabled=!1,this.getUserApi=window.apiRoutes.getUsers,this.postAddSpam=window.apiRoutes.addSpamUser,this.getSpamApi=window.apiRoutes.getSpamUsers,this.postSpamApi=window.apiRoutes.removeSpamUser,this.getUsers(),this.getSpamUsers(),this.loading=!1):this.admin&&!this.superadmin?(this.addrole="user",this.removerole="user",this.getUserApi=window.apiRoutes.getUsers,this.postAddSpam=window.apiRoutes.addSpamUser,this.getSpamApi=window.apiRoutes.getSpamUsers,this.postSpamApi=window.apiRoutes.removeSpamUser,this.getUsers(),this.getSpamUsers(),this.loading=!1):(this.loading=!1,this.$router.push({name:"results",params:{id:this.currgd.id,cmd:"result",success:!1,data:"UnAuthorized Route. Not Allowed.",redirectUrl:"/",tocmd:"home"}}))},created:function(){var e=Object(d["a"])(this.$route.params.id);this.gds=e.gds,this.currgd=e.current,this.$ga.page({page:this.$route.path,title:"Manage Spam - "+this.siteName,location:window.location.href})},watch:{addrole:function(){"user"==this.addrole?(this.getUserApi=window.apiRoutes.getUsers,this.postAddSpam=window.apiRoutes.addSpamUser,this.getUsers()):"admin"==this.addrole?(this.getUserApi=window.apiRoutes.getAdmins,this.postAddSpam=window.apiRoutes.addSpamAdmin,this.getUsers()):"superadmin"==this.addrole&&(this.getUserApi=window.apiRoutes.getSuperAdmins,this.postAddSpam=window.apiRoutes.addSpamSuperAdmin,this.getUsers())},removerole:function(){"user"==this.removerole?(this.getSpamApi=window.apiRoutes.getSpamUsers,this.postSpamApi=window.apiRoutes.removeSpamUser,this.getSpamUsers()):"admin"==this.removerole?(this.getSpamApi=window.apiRoutes.getSpamAdmins,this.postSpamApi=window.apiRoutes.removeSpamAdmin,this.getSpamUsers()):"superadmin"==this.removerole&&(this.getSpamApi=window.apiRoutes.getSpamSuperadmins,this.postSpamApi=window.apiRoutes.removeSpamSuperadmin,this.getSpamUsers())}}},n=l,m=a("2877"),c=Object(m["a"])(n,t,i,!1,null,null,null);s["default"]=c.exports}}]);