(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c886bd46"],{d8c9:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.ismobile?"content mt-4 mt-2 mx-1 px-0":"content mt-4 mt-2 ml-5 mr-5 pl-5 pr-5"},[s("div",{staticClass:"loading"},[s("loading",{attrs:{active:e.loading,"can-cancel":!1,"is-full-page":e.fullpage},on:{"update:active":function(t){e.loading=t}}})],1),s("div",{staticClass:"columns is-multiline has-text-centered is-desktop is-centered is-vcentered"},[e._m(0),s("div",{staticClass:"column is-half"},[s("article",{class:e.errorMessage?"message is-danger":"message is-hidden is-danger"},[s("div",{staticClass:"message-header"},[s("p",[e._v("Error Proccessing")]),s("button",{staticClass:"delete",attrs:{"aria-label":"delete"},on:{click:function(t){e.errorMessage=!1}}})]),s("div",{staticClass:"message-body"},[e._v(" "+e._s(e.resultmessage)+" ")])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input is-rounded",attrs:{id:"password",type:"password",placeholder:"Your Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._m(1)])]),s("button",{class:e.loading?"button is-loading is-rounded is-warning":"button is-warning is-rounded",attrs:{type:"submit",disabled:e.disabled}},[e._m(2),s("span",[e._v("Delete")])])])])])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column is-full"},[s("h2",{staticClass:"title has-text-weight-bold has-text-white"},[e._v("Delete Your Account")]),s("p",{staticClass:"is-small has-text-danger-dark has-text-weight-bold"},[e._v("Be Cautious !!")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fas fa-lock"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-user-minus"})])}],n=(s("99af"),s("4de4"),s("e826")),r=s("19e9"),o=s("9062"),l=s.n(o),d=(s("e40d"),{components:{Loading:l.a},metaInfo:function(){var e=this;return{title:this.metatitle,titleTemplate:function(t){return t&&e.siteName?t?"".concat(t," | ").concat(e.siteName):"".concat(e.siteName):"Loading..."}}},props:["nextUrl"],data:function(){return{user:{},password:"",gds:[],currgd:{},metatitle:"Delete Your Account",resultmessage:"",disabled:!0,errorMessage:!1,loading:!1,fullpage:!0}},methods:{handleSubmit:function(e){var t=this;if(this.metatitle="Deleting in Progress..",this.loading=!0,e.preventDefault(),this.password&&this.password.length>0){var s=window.apiRoutes.deleteMe;this.$http.post(s,{email:this.user.email,pass:this.password}).then((function(e){e&&(e.data.auth&&e.data.registered&&e.data.deleted?(t.metatitle="Deletion Success",t.resultmessage=e.data.message,t.$ga.event({eventCategory:"Delete Personal",eventAction:"Success - "+t.siteName,eventLabel:"Delete Me"}),Object(r["e"])("userdata"),Object(r["e"])("tokendata"),setTimeout((function(){t.loading=!1,t.$bus.$emit("logout","User Logged Out"),t.$router.push({name:"results",params:{id:t.currgd.id,cmd:"result",success:!0,data:"You Account is Being Deleted. Please Wait",redirectUrl:"/",tocmd:"home"}})}),1500)):(t.metatitle="Deletion Failed",t.errorMessage=!0,t.loading=!1,t.$ga.event({eventCategory:"Delete Personal",eventAction:"Fail - "+t.siteName,eventLabel:"Delete Me"}),t.resultmessage=e.data.message))})).catch((function(e){console.error(e)}))}else this.errorMessage=!0,this.loading=!1,this.resultmessage="Fill in Your Password",this.password=""}},computed:{ismobile:function(){var e=window.innerWidth>0?window.innerWidth:screen.width;return!(e>966)},siteName:function(){var e=this;return window.gds.filter((function(t,s){return s==e.$route.params.id}))[0]}},beforeMount:function(){this.loading=!0;var e=Object(n["b"])();e.isThere?"hybrid"==e.type?(this.$ga.event({eventCategory:"User Initialized",eventAction:"Hybrid - "+this.siteName,eventLabel:"Delete Personal",nonInteraction:!0}),this.user=e.data.user,this.loading=e.data.loading):"normal"==e.type&&(this.$ga.event({eventCategory:"User Initialized",eventAction:"Normal - "+this.siteName,eventLabel:"Delete Personal",nonInteraction:!0}),this.user=e.data.user,this.loading=e.data.loading):this.loading=e.data.loading},created:function(){var e=Object(n["a"])(this.$route.params.id);this.gds=e.gds,this.currgd=e.current,this.$ga.page({page:this.$route.path,title:"Delete Me - "+this.siteName,location:window.location.href})},watch:{password:function(){this.password.length>0?this.disabled=!1:this.disabled=!0}}}),c=d,u=s("2877"),g=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=g.exports},e40d:function(e,t,s){}}]);